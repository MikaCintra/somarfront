<div class="configuracoes-container">
  <header class="page-header">
    <div>
      <h1>âš™ï¸ ConfiguraÃ§Ãµes</h1>
      <p>Gerencie suas preferÃªncias, dados da conta e notificaÃ§Ãµes</p>
    </div>
    <div class="header-actions">
      <app-theme-language-toggle></app-theme-language-toggle>
      <div class="user-type-badge">
        <span class="badge-{{ userType }}">{{ getUserTypeLabel() }}</span>
      </div>
    </div>
  </header>

  <!-- Mensagens de Feedback -->
  <div class="message success" *ngIf="successMessage">
    âœ… {{ successMessage }}
  </div>
  <div class="message error" *ngIf="errorMessage">
    âŒ {{ errorMessage }}
  </div>

  <!-- Tabs de NavegaÃ§Ã£o -->
  <nav class="settings-tabs">
    <button 
      class="tab-button" 
      [class.active]="activeTab === 'profile'"
      (click)="setActiveTab('profile')">
      <span class="tab-icon">ğŸ‘¤</span>
      <span>Perfil</span>
    </button>
    <button 
      class="tab-button" 
      [class.active]="activeTab === 'security'"
      (click)="setActiveTab('security')">
      <span class="tab-icon">ğŸ”’</span>
      <span>SeguranÃ§a</span>
    </button>
    <button 
      class="tab-button" 
      [class.active]="activeTab === 'notifications'"
      (click)="setActiveTab('notifications')">
      <span class="tab-icon">ğŸ””</span>
      <span>NotificaÃ§Ãµes</span>
    </button>
    <button 
      class="tab-button" 
      [class.active]="activeTab === 'privacy'"
      (click)="setActiveTab('privacy')">
      <span class="tab-icon">ğŸ›¡ï¸</span>
      <span>Privacidade</span>
    </button>
  </nav>

  <!-- ConteÃºdo das Abas -->
  <section class="settings-content">
    
    <!-- ABA: Perfil -->
    <div class="tab-panel" *ngIf="activeTab === 'profile'">
      <h2>ğŸ“ InformaÃ§Ãµes do Perfil</h2>
      <p class="section-description">Atualize suas informaÃ§Ãµes pessoais e de contato</p>

      <form class="settings-form" (ngSubmit)="saveProfile()">
        <div class="form-group">
          <label for="userName">Nome Completo *</label>
          <input 
            type="text" 
            id="userName"
            [(ngModel)]="userName"
            name="userName"
            placeholder="Seu nome completo"
            required
          />
        </div>

        <div class="form-group">
          <label for="userEmail">E-mail</label>
          <input 
            type="email" 
            id="userEmail"
            [value]="userEmail"
            disabled
            class="disabled-input"
          />
          <small>O e-mail nÃ£o pode ser alterado</small>
        </div>

        <div class="form-group">
          <label for="userPhone">Telefone</label>
          <input 
            type="tel" 
            id="userPhone"
            [(ngModel)]="userPhone"
            name="userPhone"
            placeholder="(00) 00000-0000"
          />
        </div>

        <div class="form-group">
          <label for="userAddress">EndereÃ§o</label>
          <input 
            type="text" 
            id="userAddress"
            [(ngModel)]="userAddress"
            name="userAddress"
            placeholder="Rua, nÃºmero, bairro, cidade - UF"
          />
        </div>

        <div class="form-group">
          <label for="userBio">Biografia / Sobre</label>
          <textarea 
            id="userBio"
            [(ngModel)]="userBio"
            name="userBio"
            rows="4"
            placeholder="Conte um pouco sobre vocÃª ou sua organizaÃ§Ã£o..."
          ></textarea>
          <small>{{ userBio.length }}/500 caracteres</small>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">
            ğŸ’¾ Salvar AlteraÃ§Ãµes
          </button>
        </div>
      </form>
    </div>

    <!-- ABA: SeguranÃ§a -->
    <div class="tab-panel" *ngIf="activeTab === 'security'">
      <h2>ğŸ”’ SeguranÃ§a da Conta</h2>
      <p class="section-description">Altere sua senha e gerencie a seguranÃ§a da sua conta</p>

      <form class="settings-form" (ngSubmit)="changePassword()">
        <div class="form-group">
          <label for="currentPassword">Senha Atual *</label>
          <input 
            type="password" 
            id="currentPassword"
            [(ngModel)]="currentPassword"
            name="currentPassword"
            placeholder="Digite sua senha atual"
            required
          />
        </div>

        <div class="form-group">
          <label for="newPassword">Nova Senha *</label>
          <input 
            type="password" 
            id="newPassword"
            [(ngModel)]="newPassword"
            name="newPassword"
            placeholder="Digite a nova senha (mÃ­n. 6 caracteres)"
            required
            minlength="6"
          />
        </div>

        <div class="form-group">
          <label for="confirmPassword">Confirmar Nova Senha *</label>
          <input 
            type="password" 
            id="confirmPassword"
            [(ngModel)]="confirmPassword"
            name="confirmPassword"
            placeholder="Digite a nova senha novamente"
            required
          />
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">
            ğŸ”‘ Alterar Senha
          </button>
        </div>
      </form>

      <hr class="divider">

      <div class="danger-zone">
        <h3>âš ï¸ Zona de Perigo</h3>
        <p>AÃ§Ãµes irreversÃ­veis relacionadas Ã  sua conta</p>
        <button type="button" class="btn btn-danger" (click)="deleteAccount()">
          ğŸ—‘ï¸ Excluir Conta Permanentemente
        </button>
      </div>
    </div>

    <!-- ABA: NotificaÃ§Ãµes -->
    <div class="tab-panel" *ngIf="activeTab === 'notifications'">
      <h2>ğŸ”” PreferÃªncias de NotificaÃ§Ã£o</h2>
      <p class="section-description">Escolha como e quando deseja receber notificaÃ§Ãµes</p>

      <form class="settings-form" (ngSubmit)="saveNotifications()">
        <div class="settings-section">
          <h3>Canais de NotificaÃ§Ã£o</h3>
          
          <div class="toggle-group">
            <label class="toggle-label">
              <input 
                type="checkbox" 
                [(ngModel)]="settings.emailNotifications"
                name="emailNotifications"
              />
              <span class="toggle-switch"></span>
              <div class="toggle-content">
                <strong>ğŸ“§ NotificaÃ§Ãµes por E-mail</strong>
                <small>Receba atualizaÃ§Ãµes importantes por e-mail</small>
              </div>
            </label>
          </div>

          <div class="toggle-group">
            <label class="toggle-label">
              <input 
                type="checkbox" 
                [(ngModel)]="settings.pushNotifications"
                name="pushNotifications"
              />
              <span class="toggle-switch"></span>
              <div class="toggle-content">
                <strong>ğŸ”” NotificaÃ§Ãµes Push</strong>
                <small>Receba alertas no navegador</small>
              </div>
            </label>
          </div>

          <div class="toggle-group">
            <label class="toggle-label">
              <input 
                type="checkbox" 
                [(ngModel)]="settings.smsNotifications"
                name="smsNotifications"
              />
              <span class="toggle-switch"></span>
              <div class="toggle-content">
                <strong>ğŸ“± NotificaÃ§Ãµes por SMS</strong>
                <small>Receba mensagens de texto para eventos importantes</small>
              </div>
            </label>
          </div>
        </div>

        <hr class="divider">

        <div class="settings-section">
          <h3>Tipos de NotificaÃ§Ã£o</h3>
          
          <div class="toggle-group">
            <label class="toggle-label">
              <input 
                type="checkbox" 
                [(ngModel)]="settings.campaignUpdates"
                name="campaignUpdates"
              />
              <span class="toggle-switch"></span>
              <div class="toggle-content">
                <strong>ğŸ“¢ AtualizaÃ§Ãµes de Campanhas</strong>
                <small>Novidades sobre campanhas que vocÃª apoia ou criou</small>
              </div>
            </label>
          </div>

          <div class="toggle-group">
            <label class="toggle-label">
              <input 
                type="checkbox" 
                [(ngModel)]="settings.volunteerReminders"
                name="volunteerReminders"
              />
              <span class="toggle-switch"></span>
              <div class="toggle-content">
                <strong>ğŸ¤ Lembretes de Voluntariado</strong>
                <small>Lembretes sobre suas atividades voluntÃ¡rias</small>
              </div>
            </label>
          </div>

          <div class="toggle-group">
            <label class="toggle-label">
              <input 
                type="checkbox" 
                [(ngModel)]="settings.donationReceipts"
                name="donationReceipts"
              />
              <span class="toggle-switch"></span>
              <div class="toggle-content">
                <strong>ğŸ’ Comprovantes de DoaÃ§Ã£o</strong>
                <small>Reciba confirmaÃ§Ãµes quando suas doaÃ§Ãµes forem recebidas</small>
              </div>
            </label>
          </div>

          <div class="toggle-group">
            <label class="toggle-label">
              <input 
                type="checkbox" 
                [(ngModel)]="settings.monthlyReports"
                name="monthlyReports"
              />
              <span class="toggle-switch"></span>
              <div class="toggle-content">
                <strong>ğŸ“Š RelatÃ³rios Mensais</strong>
                <small>Resumo mensal do seu impacto na plataforma</small>
              </div>
            </label>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">
            ğŸ’¾ Salvar PreferÃªncias
          </button>
        </div>
      </form>
    </div>

    <!-- ABA: Privacidade -->
    <div class="tab-panel" *ngIf="activeTab === 'privacy'">
      <h2>ğŸ›¡ï¸ Privacidade e SeguranÃ§a</h2>
      <p class="section-description">Controle quem pode ver suas informaÃ§Ãµes e entrar em contato</p>

      <form class="settings-form" (ngSubmit)="savePrivacy()">
        <div class="settings-section">
          <h3>Visibilidade do Perfil</h3>
          
          <div class="radio-group">
            <label class="radio-label">
              <input 
                type="radio" 
                [(ngModel)]="settings.profileVisibility"
                name="profileVisibility"
                value="public"
              />
              <div class="radio-content">
                <strong>ğŸŒ PÃºblico</strong>
                <small>Qualquer pessoa pode ver seu perfil</small>
              </div>
            </label>

            <label class="radio-label">
              <input 
                type="radio" 
                [(ngModel)]="settings.profileVisibility"
                name="profileVisibility"
                value="ongs-only"
              />
              <div class="radio-content">
                <strong>ğŸ¢ Apenas ONGs</strong>
                <small>Somente organizaÃ§Ãµes cadastradas podem ver seu perfil</small>
              </div>
            </label>

            <label class="radio-label">
              <input 
                type="radio" 
                [(ngModel)]="settings.profileVisibility"
                name="profileVisibility"
                value="private"
              />
              <div class="radio-content">
                <strong>ğŸ”’ Privado</strong>
                <small>Seu perfil nÃ£o Ã© visÃ­vel para outros usuÃ¡rios</small>
              </div>
            </label>
          </div>
        </div>

        <hr class="divider">

        <div class="settings-section">
          <h3>InformaÃ§Ãµes de Contato</h3>
          
          <div class="toggle-group">
            <label class="toggle-label">
              <input 
                type="checkbox" 
                [(ngModel)]="settings.showEmail"
                name="showEmail"
              />
              <span class="toggle-switch"></span>
              <div class="toggle-content">
                <strong>ğŸ“§ Mostrar E-mail no Perfil</strong>
                <small>Outras pessoas poderÃ£o ver seu endereÃ§o de e-mail</small>
              </div>
            </label>
          </div>

          <div class="toggle-group">
            <label class="toggle-label">
              <input 
                type="checkbox" 
                [(ngModel)]="settings.showPhone"
                name="showPhone"
              />
              <span class="toggle-switch"></span>
              <div class="toggle-content">
                <strong>ğŸ“± Mostrar Telefone no Perfil</strong>
                <small>Outras pessoas poderÃ£o ver seu nÃºmero de telefone</small>
              </div>
            </label>
          </div>

          <div class="toggle-group">
            <label class="toggle-label">
              <input 
                type="checkbox" 
                [(ngModel)]="settings.allowMessages"
                name="allowMessages"
              />
              <span class="toggle-switch"></span>
              <div class="toggle-content">
                <strong>ğŸ’¬ Permitir Mensagens Diretas</strong>
                <small>Outros usuÃ¡rios podem enviar mensagens para vocÃª</small>
              </div>
            </label>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">
            ğŸ’¾ Salvar ConfiguraÃ§Ãµes
          </button>
        </div>
      </form>
    </div>

  </section>
</div>

